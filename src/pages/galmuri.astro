---
import Content from '@/contents/galmuri.mdx'
import Layout from '@/layouts/Layout.astro'
---

<Layout
  title="Galmuri"
  description="작은 크기에서도 가독성 좋고 균형 있는 한글 비트맵 폰트."
>
  <main>
    <Content />
  </main>
</Layout>

<style lang="sass" is:global>
  $fonts: 14 14, 11 11, 11 11-Bold, 11 11-Condensed, 9 9, 7 7, Mono11 Mono11, Mono9 Mono9, Mono7 Mono7
  @each $family, $file in $fonts
    @font-face
      font:
        family: Galmuri#{$family}-web
        style: normal
        @if $file == 11-Bold
          stretch: normal
        @else
          stretch: condensed
        @if $file == 11-Bold
          weight: 700
        @else
          weight: 400
        display: block
      src: url('/fonts/Galmuri#{$file}.woff2') format('woff2')

  @mixin g($font, $size: 1)
    $font-size: 12 !default
    @if $font == g14
      $font-size: 15
    @else if $font == g9 or $font == gm9
      $font-size: 10
    @else if $font == g7 or $font == gm7
      $font-size: 8
    font:
      @if $font == g14
        family: Galmuri14-web, sans-serif
      @else if $font == g11
        family: Galmuri11-web, sans-serif
      @else if $font == g9
        family: Galmuri9-web, sans-serif
      @else if $font == g7
        family: Galmuri7-web, sans-serif
      @else if $font == gm11
        family: GalmuriMono11-web, monospace
      @else if $font == gm9
        family: GalmuriMono9-web, monospace
      @else if $font == gm7
        family: GalmuriMono7-web, monospace
      size: calc(#{$font-size}px * $size)
    @if $font-size == 10
      mask-size: calc(100% - .25em)
    @else
      mask-size: 100%
    text-decoration:
      skip-ink: none
      thickness: calc(1em / $font-size)
    text-underline-offset: calc(1em / $font-size)
    &:hover
      text-decoration-thickness: calc(1em / $font-size * 2)

  $new-tab: url('data:image/svg+xml,\
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8">\
      <polygon points="6,5 6,7 1,7 1,2 3,2 3,1 1,1 0,1 0,2 0,7 0,8 1,8 6,8 7,8 7,7 7,5"/>\
      <polygon points="6,1 5,1 4,1 4,2 5,2 5,3 6,3 6,4 7,4 7,3 7,2 7,1"/>\
      <rect x="4" y="3" width="1" height="1"/>\
      <rect x="3" y="4" width="1" height="1"/>\
      <rect x="2" y="5" width="1" height="1"/>\
    </svg>\
  ')

  main
    @include g(g9, 2)
    @apply container mx-auto
    a
      @apply text-galmuri underline transition-all active:text-galmuri-invert
      &[target=_blank]::after
        @apply bg-current inline-block w-[1em] h-[1em] content-['']
        mask:
          image: $new-tab
          repeat: no-repeat
          position: center
    h2
      @include g(g11, 2)
      @apply font-bold scroll-m-[.5em] mt-[1em] first:mt-0
    p
      @apply [&:not(:first-child)]:mt-[.5em]
      a
        @include g(g9, 2)
        &[target=_blank]::after
          @include g(g9, 2)
    ul
      @include g(g7, 2)
      @apply relative my-[.5em] pl-[1em] [&>li]:mt-[.5em]
      li
        &::before
          @apply absolute left-[.25em] content-['\2022']
        a
          @include g(g7, 2)
          &[target=_blank]::after
            @include g(g7, 2)
</style>
